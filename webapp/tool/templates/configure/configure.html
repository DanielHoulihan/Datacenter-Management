{% include 'home/base.html'%}
<head>
  <link rel="stylesheet" href="/../../static/css/styles.css">
</head>

<div class="content">

  <div class="sidenav">
    <br>
    <div class="change_master_card">
      <h4>Change Master IP</h4><hr>
      <form method="POST">
        {% csrf_token %}
        <input type="text" id="ip" name="ip" placeholder={{master}}>
        <button type="submit" class="save" >Change</button>
      </form>
    </div>


    <div class="configure_card">
      <h4>Configure New Datacenter</h4>
      <hr>
      <form method="POST">
        {% csrf_token %}
        <ul class="no-bullets">
          <li>
            <label for="to_configure">Data Center: </label>
            <select name="to_configure">
            {% for datacenter in datacenters %}
                <option name="to_configure" >{{ datacenter.datacenterid }}</option>
            {% endfor %}
            </select>
          </li>
          <br>
          <li>
            <label for="start">Start Date:</label>
            <input type="date" id="start" name="start">
          </li>
          <br>
          <li>
            <label for="endTime">End Date:</label>
            <input type="date" id="endTime" name="endTime">
          </li>
          <br>
          <li>
            <label width="1px" for="pue">PUE:</label>
            <input type="number" id="pue" name="pue" step="0.1">
          </li>
          <br>
          <li>
            <label for="energy_cost">Energy Cost:</label>
            <input type="number" id="energy_cost" name="energy_cost" step="0.1">
          </li>
          <br>
          <li>
            <label for="carbon_conversion">Carbon Conversion:</label>
            <input type="number" id="carbon_conversion" name="carbon_conversion" step="0.1">
          </li>
          <br>
        <button type="submit" class="save">Submit</button>
      </ul>
      </form>
    </div>
  </div>


{% block content %}
<div class="configure_content">
<h3> Configured Data Centers {{configured_count}}</h3>
<table style="width:100%">
  <tr>
    <th>Datacenter ID</th>
    <th>Instance</th>
    <th>PUE</th>
    <th>Energy Cost</th>
    <th>Carbon Conversion</th>
    <th>Start Time</th>
    <th>End Time</th>
    <th></th>
  </tr>
  {% for datacenter in configured %}
  <tr>
    <td>{{datacenter.datacenterid}}</td>
    <td>{{datacenter.sub_id}}</td>
    <td>{{datacenter.pue}}</td>
    <td>{{datacenter.energy_cost}}</td>
    <td>{{datacenter.carbon_conversion}}</td>
    <td>{{datacenter.startTime}}</td>
    <td>{{datacenter.endTime}}</td>
    <td>
      <form method="POST">
          {% csrf_token %}
          <button type="submit" class="save" name = "to_delete" value={{datacenter.sub_id}}>Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<br><br>
<h3> Available Data Centers </h3>
<table style="width:100%">
  <tr>
    <th>Datacenter ID</th>
    <th>Name</th>
    <th>Description</th>
  </tr>
  {% for datacenter in datacenters %}
  <tr>
    <td>{{datacenter.datacenterid}}</td>
    <td>{{datacenter.datacentername}}</td>
    <td>{{datacenter.description}}</td>
  </tr>
  {% endfor %}

</table>

{% endblock %} 
</div>
</div>



